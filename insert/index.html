<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>



<input type=button value='тест' onclick='test()'>

 <script>
let arr= [{"id":1,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/f035c7f46c0844069722f2bb3ee9f113_584x584.jpeg","name":"Пепперони Фреш с перцем","sizes":[26,30,40],"price":803, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 0, "rating": 7,"sortArr":["Спросу","Цене"]},
{"id":2,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/2ffc31bb-132c-4c99-b894-53f7107a1441.jpg","name":"Сырная","sizes":[26,30,40],"price":234, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 10},
{"id":3,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/6652fec1-04df-49d8-8744-232f1032c44b.jpg","name":"Цыпленок барбекю","sizes":[26,30,40],"price":295, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2} ], "category": 2, "rating": 2},
{"id":4,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/af553bf5-3887-4501-b88e-8f0f55229429.jpg","name":"Кисло-сладкий цыпленок","sizes":[26,30,40],"price":275, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 1},
{"id":5,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/b750f576-4a83-48e6-a283-5a8efb68c35d.jpg","name":"Чизбургер-пицца","sizes":[26,30,40],"price":415, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 5},
{"id":6,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Крэйзи пепперони","sizes":[26,30,40],"price":580, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 3},
{"id":7,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Пепперони","sizes":[26,30,40],"price":675, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 11},
{"id":8,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Маргарита","sizes":[26,30,40],"price":450, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 4},
{"id":9,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/ec29465e-606b-4a04-a03e-da3940d37e0e.jpg","name":"Четыре сезона","sizes":[26,30,40],"price":395, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 4, "rating": 2},
{"id":10,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/2ffc31bb-132c-4c99-b894-53f7107a1441.jpg","name":"Сырная Лайт","sizes":[26,30,40],"price":223, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 4, "rating": 10},
{"id":11,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/af553bf5-3887-4501-b88e-8f0f55229429.jpg","name":" Острый цыпленок","sizes":[26,30,40],"price":333, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 12},
{"id":12,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/30367198-f3bd-44ed-9314-6f717960da07.jpg","name":"Овощи и грибы","sizes":[26,30,40],"price":285, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category":1,"rating": 2},
{"id":13,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/af553bf5-3887-4501-b88e-8f0f55229429.jpg","name":" Белорусская","sizes":[26,30,40],"price":302, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 11},
{"id":14,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Российская","sizes":[26,30,40],"price":225, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 4, "rating": 8}, 
{"id":15,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/b750f576-4a83-48e6-a283-5a8efb68c35d.jpg","name":"Украинская","sizes":[26,30,40],"price":401, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 2},
{"id":16,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Албанская","sizes":[26,30,40],"price":675, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 1},
{"id":17,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/f035c7f46c0844069722f2bb3ee9f113_584x584.jpeg","name":"Новозеландская","sizes":[26,30,40],"price":777, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 0, "rating": 4},
{"id":18,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/30367198-f3bd-44ed-9314-6f717960da07.jpg","name":"Французская","sizes":[26,30,40],"price":271, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 5},
{"id":19,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Арабская","sizes":[26,30,40],"price":402, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 10},
{"id":20,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/af553bf5-3887-4501-b88e-8f0f55229429.jpg","name":"Греческая","sizes":[26,30,40],"price":274, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 5},
{"id":21,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Японская","sizes":[26,30,40],"price":672, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 1},
{"id":22,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Итальянская","sizes":[26,30,40],"price":580, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 6},
{"id":23,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/b750f576-4a83-48e6-a283-5a8efb68c35d.jpg","name":"Китайская","sizes":[26,30,40],"price":248, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 3},
{"id":24,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Монгольская","sizes":[26,30,40],"price":581, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 6},
{"id":25,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/af553bf5-3887-4501-b88e-8f0f55229429.jpg","name":"Тайская","sizes":[26,30,40],"price":302, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 11},
{"id":26,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Немецкая","sizes":[26,30,40],"price":277, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 5},
{"id":27,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Алжирская","sizes":[26,30,40],"price":671, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 1},
{"id":28,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Кенийская","sizes":[26,30,40],"price":453, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 10},
{"id":29,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Грузинская","sizes":[26,30,40],"price":581, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 6},
{"id":30,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Татараская","sizes":[26,30,40],"price":582, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 3},
{"id":31,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Чеченская","sizes":[26,30,40],"price":675, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 1},
{"id":32,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/af553bf5-3887-4501-b88e-8f0f55229429.jpg","name":"Дагестанская","sizes":[26,30,40],"price":277, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 5},
{"id":33,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Египетская","sizes":[26,30,40],"price":677, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 1},
{"id":34,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Индийская","sizes":[26,30,40],"price":580, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 6},
{"id":35,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Туркменская","sizes":[26,30,40],"price":583, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 1},
{"id":36,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/af553bf5-3887-4501-b88e-8f0f55229429.jpg","name":"Таджикская","sizes":[26,30,40],"price":278, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 2, "rating": 5},
{"id":37,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Боливийская","sizes":[26,30,40],"price":677, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 1},
{"id":38,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Киргизская","sizes":[26,30,40],"price":455, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 10},
{"id":39,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Мороканская","sizes":[26,30,40],"price":580, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 6},
{"id":40,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Бенинская","sizes":[26,30,40],"price":675, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 1},
{"id":41,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Турецкая","sizes":[26,30,40],"price":588, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 6},
{"id":42,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Косоварская","sizes":[26,30,40],"price":456, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 10},
{"id":43,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/1e1a6e80-b3ba-4a44-b6b9-beae5b1fbf27.jpg","name":"Сербская","sizes":[26,30,40],"price":566, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 3, "rating": 6},
{"id":44,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Приднестровская","sizes":[26,30,40],"price":453, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 10},
{"id":45,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d2e337e9-e07a-4199-9cc1-501cc44cb8f8.jpg","name":"Осетинская","sizes":[26,30,40],"price":676, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 0, "rating": 1},
{"id":46,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/6652fec1-04df-49d8-8744-232f1032c44b.jpg","name":"Азербайджанская","sizes":[26,30,40],"price":666, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2} ], "category": 2, "rating": 1},
{"id":47,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Латвийская","sizes":[26,30,40],"price":458, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 11},
{"id":48,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Литовская","sizes":[26,30,40],"price":459, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 12},
{"id":49,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Эстонская","sizes":[26,30,40],"price":455, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 13},
{"id":50,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Люксмембургская","sizes":[26,30,40],"price":454, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 1},
{"id":51,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/f035c7f46c0844069722f2bb3ee9f113_584x584.jpeg","name":"Бразильская","sizes":[26,30,40],"price":821, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}], "category": 0, "rating": 4},
{"id":52,"imageUrl":"https://dodopizza.azureedge.net/static/Img/Products/Pizza/ru-RU/d48003cd-902c-420d-9f28-92d9dc5f73b4.jpg","name":"Аргентинская","sizes":[26,30,40],"price":877, "arrDough":[{"name":"тонкое","code":1},
{"name":"традиционное","code":2}],"category": 1, "rating": 10}
]



async function test() {

"use strict";

var ajaxHandlerScript="https://fe.it-academy.by/AjaxStringStorage2.php";

// отдельно создаём набор POST-параметров запроса
let sp = new URLSearchParams();
sp.append('f', 'INSERT');
sp.append('n', 'SHEMET_DZMITRY_ARR');
sp.append('v', JSON.stringify(arr));

/*
// вот как мы это делали без await:
fetch(ajaxHandlerScript, { method: 'post', body: sp })
    .then( response => response.json() )
    .then( data => { console.log(data); } )
    .catch( error => { console.error(error); } );
*/

try {
    let response=await fetch(ajaxHandlerScript,{ method: 'post', body: sp });
    let data=await response.json();
    console.log(data);
}
catch ( error ) {
    console.error(error);
}

}

console.log("before test call");

console.log("after test call");

 </script>
    
</body>
</html>